[TOC]

### 递归

- 递归是指调用自己的函数
- 每个递归函数有两个条件：基线条件和递归条件
- 栈有两种操作：压入和弹出
- 所有函数调用都禁图调用栈
- 调用栈可能很长，这将占用大量内存

#### 调用栈

这个栈用于存储多个函数的变量

##### 举例递归调用栈

fact(3) 写作 3! 阶乘递归函数 

```
function fact(x) {
	if (x === 1) {
        return 1
	}else{
        return x * fact(x-1)
	}
}
```

下面详细分析调用 fact(3)时调用栈时如何变化的。

| 代码                                        | 调用栈                   |
| ------------------------------------------- | ------------------------ |
| fact(3)                                     | x = 3                    |
| if (x === 1)                                | x = 3                    |
| else                                        | x = 3                    |
| return x * fact(x-1) (递归调用)             | x = 2  \| x = 3          |
| if (x === 1) (第二次调用)                   | x = 2  \| x = 3          |
| else                                        | x = 2  \| x = 3          |
| return x * fact(x-1)                        | x = 1 \| x = 2  \| x = 3 |
| if (x === 1) (第三次调用，但还没有函数返回) | x = 1 \| x = 2  \| x = 3 |

| 函数                        | 返回 | 调用栈                   |
| --------------------------- | ---- | ------------------------ |
| 第三次 return 1             | 1    | x = 1 \| x = 2  \| x = 3 |
| 第二次 return x * fact(x-1) | 2    | x = 2  \| x = 3          |
| 第一次 return x * fact(x-1) | 6    | x = 3                    |

###### 注意，每个fact 调用都有自己的 x 变量，在一个函数中调用不能访问另一个函数的 x 变量。

